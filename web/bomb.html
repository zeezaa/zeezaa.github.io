<html>
<head>
<script>
var plant="0";
var defuse = "";
var code = "";
var Color = Math.floor(Math.random() * 3) + 1;

function codeAdd(x){
	if(plant==0)
	{
		code = code + '' + x;
		document.getElementById("code").innerHTML = code;
	}

	else
	{
		defuse = defuse + '' + x;
		document.getElementById("code").innerHTML = defuse;
		if(defuse == code)
		{
			alert("safe defused!");
			location.reload();
		}
	}
}

function start()
{
	if(code == "")
	{
		alert("setup safe code");
	}
	else
	{
		plant = "1";
		document.getElementById('wires').style.display = 'block';
		document.getElementById("code").innerHTML = "&nbsp;";
		document.getElementById("startbtn").style.visibility = "hidden";
		window.min = document.getElementById("min").value;
		window.sec = document.getElementById("sec").value;
		window.ms = 100;
		document.getElementById('set').style.display = 'none';
		document.getElementById('minTime').innerHTML = min;
		document.getElementById('secTime').innerHTML = sec;
		document.getElementById('msTime').innerHTML = ms;
		setInterval(Time, 10);
	}
}

function Time()
{
	ms--
	if(ms == 0 && sec == 0 && min == 0)
	{
		alert("BOOM!");
		location.reload();
	}
	if(ms == 0)
	{
		sec--; ms=100;
	}
	if(min != 0)
	{
		if(sec == 0)
		{
			min--; sec=60;
		}
	}
	
	if(ms < 10)

	document.getElementById('minTime').innerHTML = min;
	document.getElementById('secTime').innerHTML = sec;
	document.getElementById('msTime').innerHTML = ms;
}

function wires(C)
{
	if(Color = C)
		alert("DEFUSED!");
	else
		alert("BOOM!");
	location.reload();
}
</script>
</head>
<body>
<div id="timer" width="100%" height="25%" align="center">
  <table>
  <tr>
      <td id="minTime">MIN</td>
      <td>:</td>
      <td id="secTime">SEC</td>
	  <td>.</td>
	  <td id="msTime">MS</td>
  </tr>
  </table>
</div>
<div width="100%" height="75%" align="center">
<div id="code">&nbsp;</div>
<div id="set">
  Minutes:<input type="number" id="min" min="0" max="120" value="0">
  Seconds:<input type="number" id="sec" min="0" max="59" value="45">
  <br>
</div>
<div id="keypad">
<table>
  <tr>
    <td><button onclick="codeAdd(1)">1</button></td>
    <td><button onclick="codeAdd(2)">2</button></td>		
    <td><button onclick="codeAdd(3)">3</button></td>
  </tr>
  <tr>
    <td><button onclick="codeAdd(4)">4</button></td>
    <td><button onclick="codeAdd(5)">5</button></td>		
    <td><button onclick="codeAdd(6)">6</button></td>
  </tr>
  <tr>
    <td><button onclick="codeAdd(7)">7</button></td>
    <td><button onclick="codeAdd(8)">8</button></td>	
    <td><button onclick="codeAdd(9)">9</button></td>
  </tr>
  <tr>
	<td><button onclick="document.getElementById('code').innerHTML = '&nbsp;'; if(plant = '1'){defuse=''} else{code='';}">&#10006;</button></td>
	<td><button onclick="codeAdd(0)">0</button></td>
	<td><button id="startbtn" onclick="start()">&#10004;</button></td>
  </tr>
</table>
</div>
<div id="wires" style="display: none;">
  <ul>
      <tr><button onclick="wires(1)">RED</button></tr>
      <tr><button onclick="wires(2)">GREEN</button></tr>
      <tr><button onclick="wires(3)">BLUE</button></tr>
  </ul>
  </div>
</div>
</body>
</html>